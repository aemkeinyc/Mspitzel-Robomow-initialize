<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Mspitzel initialize installer</title>
    <meta
      name="description"
      content="Easily allow users to install Mspitzel initialze firmware on the web."
    />
    <meta name="viewport" content="width=device-width" />
    <meta name="color-scheme" content="dark light" />
    <style>
      body {
        font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI",
          Roboto, Ubuntu, sans-serif;
        padding: 0;
        margin: 0;
        line-height: 1.4;
      }
      .content {
        max-width: 600px;
        margin: 0 auto;
        padding: 12px;
      }
      h2 {
        margin-top: 2em;
      }
      h3 {
        margin-top: 1.5em;
      }
      a {
        color: #03a9f4;
      }
      .invisible {
        visibility: hidden;
      }
      .hidden {
        display: none;
      }
      esp-web-install-button[install-unsupported] {
        visibility: inherit;
      }
      .content pre {
        max-width: 100%;
        overflow-y: scroll;
      }
      .footer {
        margin-top: 24px;
        border-top: 1px solid #ccc;
        padding-top: 24px;
        text-align: center;
      }
      .footer .initiative {
        font-style: italic;
        margin-top: 16px;
      }
      table {
        border-spacing: 0;
      }
      td {
        padding: 8px;
        border-bottom: 1px solid #ccc;
      }
      .radios li {
        list-style: none;
        line-height: 2em;
      }
      @media (prefers-color-scheme: dark) {
        body {
          background-color: #333;
          color: #fff;
        }
        a {
          color: #58a6ff;
        }
      }
    </style>
    <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js?module"></script>
  </head>
  <body>
    <div class="content">
      <h1>Mspitzel initialize installer</h1>
      <p>Dieses tool installiert die initiale firmware für Mspitzel. Nach dem aufspielen stellt der Lolin D32 pro einen wifi accesspoint zur Verfügung mit der SSID mspitzel. Nun zu mspitzel via wifi verbinden. Dann per Browser die Adresse 192.168.4.1:8080 aufrufen und dort die Zugangsdaten, SSID und Passwort deines Routers eintragen. Mspitzel verbindet sich dann mit deinem Router. Logge dich in deinem Router ein um die IP Adresse nachzusehen die Mspitzel erhalten hat. Gehe dann über deinen Browser auf http://<font color="red">IPmspitzel</font>:8080 wähle dort die Firmware über Datei auswählen aus und drücke Update. Nach erfolgreichem Upload sollte ein OK erscheinen. Nun ist der Mspitzel über http://<font color="red">IPmspitzel</font> erreichbar.<br>Initial sind Benutzername: Mspitzel und Passwort: Mspitzel007 </p>
            <p>This tool installs the initial firmware for Mspitzel. After installation, the Lolin D32 pro provides a wifi access point with the SSID mspitzel. Now connect to mspitzel via wifi. Then use your browser to access the address 192.168.4.1:8080 and enter your router's access data, SSID and password there. Mspitzel then connects to your router. Log in to your router to check the IP address that Mspitzel received. Then go to http://<font color="red">IPmspitzel</font>:8080 in your browser, select the firmware via "Datei Auswählen" and press Update. After a successful upload, an OK should appear. Mspitzel can now be reached via http://<font color="red">IPmspitzel</font><br>The initial username is: Mspitzel and password: Mspitzel007 </p><br><br>
      <p>Select your product which you want to flash</p>
      <ul class="radios">
        <li>
          <label><input type="radio" name="type" value="mspitzel_init" /> LOLIN D32pro </label>
        </li>
      </ul>
      <p class="button-row" align="center">
        <esp-web-install-button class="invisible"></esp-web-install-button>
      </p>
      
      <p>Click to download Mspitzel.bin<p>

	<a href="https://github.com/aemkeinyc/Mspitzel-Robomow-initialize/blob/d5f6ec9ea9951556ddecc17b9085a0dfed40b09a/download.png" download>
  	<img src="https://github.com/aemkeinyc/Mspitzel-Robomow-initialize/blob/d5f6ec9ea9951556ddecc17b9085a0dfed40b09a/download.png" alt="Download" width="104" height="142">
	</a>

      <div class="footer">
        Installer powered by <a href="https://esphome.github.io/esp-web-tools/">ESP Web Tools</a>.
    </div>
    <script>
      document.querySelectorAll('input[name="type"]').forEach(radio =>
        radio.addEventListener("change", () => {
          const button = document.querySelector('esp-web-install-button');
          button.manifest = `./manifest_${radio.value}.json`;
          button.classList.remove('invisible');
        }
      ));
    </script>
  </body>
</html>
